---
title: Informationen zur SSL-Unterstützung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 08/12/2019
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: 073f3b9e-8edd-4815-88ea-de0655d0325e
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 5da6c0f567e86a5d9ba979f01cb82ec382834651
ms.sourcegitcommit: 9348f79efbff8a6e88209bb5720bd016b2806346
ms.translationtype: MTE75
ms.contentlocale: de-DE
ms.lasthandoff: 08/14/2019
ms.locfileid: "69027304"
---
# <a name="understanding-ssl-support"></a>Grundlegendes zur SSL-Unterstützung

[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

Wenn die Anwendung beim Herstellen einer Verbindung mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Verschlüsselung anfordert und die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Instanz für die Unterstützung von SSL-Verschlüsselung konfiguriert ist, initialisiert [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] den SSL-Handshake. Mithilfe des Handshakes können der Server und der Client die Verschlüsselungs- und Kryptografiealgorithmen aushandeln, mit denen Daten geschützt werden sollen. Nachdem der SSL-Handshake abgeschlossen wurde, können der Client und der Server die verschlüsselten Daten sicher senden. Während des SSL-Handshakes sendet der Server sein Zertifikat für öffentliche Schlüssel an den Client. Der Aussteller eines Zertifikats für öffentliche Schlüssel wird als Zertifizierungsstelle bezeichnet. Der Client ist dafür verantwortlich zu überprüfen, ob der Client der Zertifizierungsstelle vertraut.  
  
Wenn die Anwendung keine Verschlüsselung anfordert, erzwingt [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] die Unterstützung der SSL-Verschlüsselung von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nicht. Wenn die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Instanz nicht für das Erzwingen der SSL-Verschlüsselung konfiguriert ist, wird eine Verbindung ohne jegliche Verschlüsselung hergestellt. Falls die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Instanz für das Erzwingen der SSL-Verschlüsselung konfiguriert ist, aktiviert der Treiber automatisch die SSL-Verschlüsselung, wenn er auf einer ordnungsgemäß konfigurierten Java Virtual Machine (JVM) ausgeführt wird. Andernfalls wird die Verbindung getrennt, und der Treiber löst einen Fehler aus.  
  
> [!NOTE]  
> Stellen Sie sicher, dass der an **serverName** übergebene Name für eine erfolgreiche SSL-Verbindung exakt dem CN (Common Name, allgemeiner Name) oder dem DNS-Namen im SAN (Subject Alternate Name, Subjektalternativname) im Serverzertifikat entspricht.  
>
> Weitere Informationen zum Konfigurieren von SSL für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] finden Sie im Thema zum Verschlüsseln von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Verbindungen in der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Onlinedokumentation.  
  
## <a name="remarks"></a>Remarks

Damit die SSL-Verschlüsselung von Anwendungen verwendet werden kann, hat [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] ab Version 1.2 die folgenden Verbindungseigenschaften eingeführt: **encrypt**, **trustServerCertificate**, **trustStore**, **trustStorePassword** und **hostNameInCertificate**. Weitere Informationen zum Festlegen der Verbindungseigenschaften finden Sie unter [Festlegen von Verbindungseigenschaften](../../connect/jdbc/setting-the-connection-properties.md).  
  
 In der folgenden Tabelle wird das Verhalten der [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)]-Version in möglichen SSL-Verbindungsszenarios zusammengefasst. In jedem Szenario wird ein anderer Satz von SSL-Verbindungseigenschaften verwendet. Die Tabelle schließt Folgendes ein:  
  
- **leer**: "die Eigenschaft ist in der Verbindungs Zeichenfolge nicht vorhanden."  
  
- **Wert**: "die Eigenschaft ist in der Verbindungs Zeichenfolge vorhanden, und ihr Wert ist gültig."  
  
- **any**: "Es spielt keine Rolle, ob die Eigenschaft in der Verbindungs Zeichenfolge vorhanden ist oder ob der Wert gültig ist."  
  
> [!NOTE]  
> Das gleiche Verhalten trifft auf die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Benutzerauthentifizierung und die integrierte Windows-Authentifizierung zu.  
  
| encrypt        | trustServerCertificate | hostNameInCertificate | trustStore | trustStorePassword | Verhalten                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| -------------- | ---------------------- | --------------------- | ---------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| false oder blank | any                    | any                   | any        | any                | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Unterstützung der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SSL-Verschlüsselung wird von nicht erzwungen. Wenn der Server ein selbst signiertes Zertifikat aufweist, initiiert der Treiber den SSL-Zertifikataustausch. Das SSL-Zertifikat wird nicht überprüft, und nur die Anmeldeinformationen (im Anmeldepaket) werden verschlüsselt.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch. Das SSL-Zertifikat wird nicht überprüft, die gesamte Kommunikation wird jedoch verschlüsselt.                                                                                                                                                                                    |
| true           | true                   | any                   | any        | any                | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch. Wenn die Eigenschaft **trustServerCertificate** auf TRUE festgelegt ist, überprüft der Treiber das SSL-Zertifikat nicht.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                                                                                                                                          |
| true           | false oder blank         | leer                 | leer      | leer              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet die in der Verbindungs-URL angegebene Eigenschaft **serverName**, um das SSL-Zertifikat des Servers zu überprüfen. Außerdem werden die Suchregeln der Trust-Manager-Factory verwendet, um den zu verwendenden Zertifikatspeicher zu ermitteln.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                             |
| true           | false oder blank         | Wert                 | leer      | leer              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber überprüft den Subject-Wert des SSL-Zertifikats mithilfe des für die Eigenschaft **hostNameInCertificate** angegebenen Werts.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                                                                                                                 |
| true           | false oder blank         | leer                 | Wert      | Wert              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet den **trustStore**-Eigenschaftswert zum Ermitteln der trustStore-Zertifikatdatei und den **trustStorePassword**-Eigenschaftswert zum Überprüfen der Integrität der trustStore-Datei.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                                                                |
| true           | false oder blank         | leer                 | leer      | Wert              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet den **trustStorePassword**-Eigenschaftswert zum Überprüfen der Integrität der trustStore-Standarddatei.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                                                                                                                                  |
| true           | false oder blank         | leer                 | Wert      | leer              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet den **trustStore**-Eigenschaftswert, um den Speicherort der trustStore-Datei zu ermitteln.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                                                                                                                                                 |
| true           | false oder blank         | Wert                 | leer      | Wert              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet den **trustStorePassword**-Eigenschaftswert zum Überprüfen der Integrität der trustStore-Standarddatei. Außerdem verwendet der Treiber den **hostNameInCertificate**-Eigenschaftswert, um das SSL-Zertifikat zu überprüfen.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                   |
| true           | false oder blank         | Wert                 | Wert      | leer              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet den **trustStore**-Eigenschaftswert, um den Speicherort der trustStore-Datei zu ermitteln. Außerdem verwendet der Treiber den **hostNameInCertificate**-Eigenschaftswert, um das SSL-Zertifikat zu überprüfen.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung.                                                                                  |
| true           | false oder blank         | Wert                 | Wert      | Wert              | Die [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Anforderungen für die Verwendung der SSL- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Verschlüsselung mit dem.<br /><br /> Wenn der Server erfordert, dass der Client SSL-Verschlüsselung unterstützt oder der Server die Verschlüsselung unterstützt, initiiert der Treiber den SSL-Zertifikataustausch.<br /><br /> Der Treiber verwendet den **trustStore**-Eigenschaftswert zum Ermitteln der trustStore-Zertifikatdatei und den **trustStorePassword**-Eigenschaftswert zum Überprüfen der Integrität der trustStore-Datei. Außerdem verwendet der Treiber den **hostNameInCertificate**-Eigenschaftswert, um das SSL-Zertifikat zu überprüfen.<br /><br /> Wenn der Server nicht für die Unterstützung der Verschlüsselung konfiguriert ist, löst der Treiber einen Fehler aus und trennt die Verbindung. |
  
Wenn die Eigenschaft „encrypt“auf **TRUE** festgelegt ist, verwendet [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] den JSSE-Standardsicherheitsanbieter der JVM, um die SSL-Verschlüsselung mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] auszuhandeln. Der Standardsicherheitsanbieter unterstützt möglicherweise nicht alle erforderlichen Funktionen zum erfolgreichen Aushandeln der SSL-Verschlüsselung. So ist es beispielsweise möglich, dass die im SSL-Zertifikat für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] verwendete Größe des öffentlichen RSA-Schlüssels vom Standardsicherheitsanbieter nicht unterstützt wird. In diesem Fall löst der Standardsicherheitsanbieter möglicherweise einen Fehler aus, wodurch der JDBC-Treiber die Verbindung trennt. Führen Sie zum Beheben dieses Problems eine der folgenden Aktionen aus:  
  
- Konfigurieren Sie [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mit einem Serverzertifikat mit einem kleineren öffentlichen RSA-Schlüssel  
  
- Konfigurieren Sie die JVM für die Verwendung eines anderen JSSE-Sicherheitsanbieters in der Sicherheitseigenschaftendatei „\<java-home/lib/security/java.security“  
  
- Verwenden Sie eine andere JVM.  
  
## <a name="validating-server-ssl-certificate"></a>Überprüfen des SSL-Serverzertifikats  

Während des SSL-Handshakes sendet der Server sein Zertifikat für öffentliche Schlüssel an den Client. Der JDBC-Treiber oder Client muss überprüfen, ob das Serverzertifikat von einer Zertifizierungsstelle herausgegeben wurde, der der Client vertraut. Der Treiber erfordert, dass das Serverzertifikat die folgenden Bedingungen erfüllt:  
  
- Das Zertifikat wurde von einer vertrauenswürdigen Zertifizierungsstelle ausgegeben.  
  
- Das Zertifikat muss für die Serverauthentifizierung ausgegeben sein.  
  
- Das Zertifikat ist nicht abgelaufen.  
  
- Der CN (Common Name) im Subjekt oder ein DNS-Name im SAN (Subject Alternate Name, Subjektalternativname) des Zertifikats entspricht genau dem **serverName**-Wert, der in der Verbindungszeichenfolge angegeben ist, oder – falls angegeben – dem Eigenschaftenwert **hostNameInCertificate**.  
  
- Ein DNS-Name kann Platzhalterzeichen enthalten. [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] Allerdings unterstützt keine Platzhalter Übereinstimmung. Das heißt, „abc.com“ entspricht nicht „\*.com“, während „\*.com“ „\*.com“ entspricht.  
  
## <a name="see-also"></a>Siehe auch

[Verwenden der SSL-Verschlüsselung](../../connect/jdbc/using-ssl-encryption.md)

[Schützen von JDBC-Treiberanwendungen](../../connect/jdbc/securing-jdbc-driver-applications.md)  
